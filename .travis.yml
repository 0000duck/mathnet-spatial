language: csharp
solution: MathNet.SpatialMinimal.sln

env:
  - HOME=/home/travis APPDATA=/home/travis LocalAppData=/home/travis

sudo: required #false
dist: trusty
dotnet: 2.0.0
mono:
- latest

addons:
  apt:
    sources:
    - sourceline: 'deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-trusty-prod trusty main'
      key_url: 'https://packages.microsoft.com/keys/microsoft.asc'
    packages:
    - dotnet-hostfxr-1.0.1
    - dotnet-sharedframework-microsoft.netcore.app-1.1.2

install:
  - nuget restore MathNet.SpatialMinimal.sln
  - nuget install NUnit.Runners -Version 2.6.4 -OutputDirectory testrunner

script:
  - xbuild /p:Configuration=Release MathNet.SpatialMinimal.sln
  - mono ./testrunner/NUnit.Runners.2.6.4/tools/nunit-console.exe ./src/SpatialUnitTests/bin/Release/netcoreapp2.0/MathNet.Numerics.UnitTests.dll
